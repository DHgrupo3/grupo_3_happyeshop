<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../img/hidroponia.png" />
    <!-- Bloque para importar Iconos y Estilos de BootStrap -->
    <script src="https://kit.fontawesome.com/63355f2aa7.js" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../css/master.css">
    <!-- Fin de Bloque Look & Feel -->

    <title>Happy e-Shop - Registrate</title>
</head>
<body>
    <%- include ("../partials/header") %>
    <main>

        <div class="alert alert-success" role="alert">
            <b>Registrate</b>
        </div>
  
        <section class="row _card">
            <form method="POST" action="/user/register" enctype="multipart/form-data">
                <div class="d-grid gap-2 col-6 mx-auto">
                    <ul><input class="form-control" type="text" name="nombre" placeholder="Nombre" value= "<%= locals.oldData ? oldData.nombre : null %>" /></ul>
                    <% if (locals.errors && errors.nombre){ %>
                    <div>
                    <%= errors.nombre.msg %>
                    
                        <% } %>
                    </div>
                </div>
                <div class="d-grid gap-2 col-6 mx-auto">
                    <ul><input class="form-control " type="text" name="apellido" placeholder="Apellido" value= "<%= locals.oldData ? oldData.apellido : null %>"  /></ul>
                    <% if (locals.errors && errors.apellido){ %>
                        <div>
                        <%= errors.apellido.msg %>
                        </div>
                            <% } %>
                </div>
                <div class="d-grid gap-2 col-6 mx-auto">
                    <ul><input class="form-control" type="email" name="email" placeholder="email" value= "<%= locals.oldData ? oldData.email : null %>" /></ul>
                    <% if (locals.errors && errors.email){ %>
                        <div>
                        <%= errors.email.msg %>
                        </div>
                            <% } %>
                </div>
                <div class="d-grid gap-2 col-6 mx-auto">
                    <ul><input class="form-control" type="password" name="password" placeholder="Password" /></ul>
                    <% if (locals.errors && errors.password){ %>
                        <div>
                        <%= errors.password.msg %>
                        </div>
                            <% } %>
                    </div>
                    <div class="d-grid gap-2 col-6 mx-auto">
                    
                    <!-- <ul><input class="form-control" type="text" name="pais" placeholder="Pais" value= "<%=// locals.oldData ? oldData.pais : null %>"/>-->
                    <ul>
                    <select name="pais" placeholder="Pais" id="category" class="form-control" >
                        <option value="1">Elegí</option>
                      <!-- Busca en la Base a través de userController los Paises existentes y los muestra -->
                      <%pais.forEach(pais => { %>
                        <option value=<%= locals.oldData ? oldData.pais : pais.id %>>
                            <%= pais.nombre%>
                        </option>
                        <%  }); %>
                        <!-- Fin del desplegable Paises -->
                

                        <% if (locals.errors && errors.pais){ %>
                        <div>
                            <%= errors.pais.msg %>
                        </div>
                        <% } %>
                        
                    </select>
                    </ul>
                </div>
                
                <div class="d-grid gap-2 col-6 mx-auto">
                    <ul><input class="form-control" type="file" name="avatar" placeholder="Avatar" /></ul>
                    <% if (locals.errors && errors.avatar){ %>
                        <div>
                        <%= errors.avatar.msg %>
                        </div>
                            <% } %>
                </div>
                <div class="d-grid gap-2 col-4 mx-auto">
                    <button type="submit" class="btn btn-outline-success btn-sm">Enviar</button>
                </div>
                
                </div>
                </form>
        </section>
        
    </main>
    <br>
    <%- include ("../partials/footer") %>

    <!-- Bloque que invoca a las librerias de Javascript para el correcto funcionamiento de animaciones de BootStrap -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
    <!-- Fin de Bloque Look & Feel -->

</body>
</html>
