<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../img/hidroponia.png" />
    <!-- Bloque para importar Iconos y Estilos de BootStrap -->
    <script src="https://kit.fontawesome.com/63355f2aa7.js" crossorigin="anonymous"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../css/master.css">
    <!-- Fin de Bloque Look & Feel -->

    <title>Happy e-Shop - Administración de Usuarios</title>
</head>
<body>
    <%- include ("../partials/header") %>
    <main>

        <div class="alert alert-success" role="alert">
            <b>Administración de Usuarios</b>
        </div>

        <div class="d-grid gap-2 col-6 mx-auto">

        <a href="/user/registerAdmin" class="btn btn-outline-success btn-sm"><i class="fa-solid fa-plus"></i>&nbsp;&nbsp;Registrar Usuario</a>
        
        <article >
            <table class="table table-success table-striped">
                <thead class="table_product">
                    <th scope="col">#</th>
                    <th scope="col">Nombre y Apellido</th>
                    <th scope="col">e-mail</th>
                    <th scope="col">Estado</th>
                    <th scope="col">Ver</th> 
                    <th scope="col">Editar</th> 
                    <th scope="col">Borrar</th> 
                </thead>
                <tbody>
            <% usuarios.forEach(usuarios => { %>
                <tr class="products_abm">
                    <td><%= usuarios.id%>&nbsp;&nbsp;&nbsp;</td>
                    <td><%= usuarios.nombre%>&nbsp;<%= usuarios.apellido%>&nbsp;&nbsp;</td>
                    <td><%= usuarios.email%>&nbsp;&nbsp;&nbsp;</td>
                    <td><%= usuarios.estadosusuario.nombre%>&nbsp;&nbsp;&nbsp;</td>
                    <!--  productos.estados.nombre -->
                    <td><a href="/user/userDetail/<%= usuarios.id%>"> <i class="fa-solid fa-eye link-success"></i></a></td>
                    <td><a href="/user/edit_user/<%= usuarios.id%>"> <i class="fa-solid fa-pencil link-success"></i></a></td>
                    <td><a href="/user/delete_user/<%= usuarios.id%>"><i class="fa-solid fa-trash link-success"></i></a></td>
                </tr>
            
            <%  }); %>
            </tbody>
            </table>
        </article>
    </div>
    </main>

    <%- include ("../partials/footer") %>

    <!-- Bloque que invoca a las librerias de Javascript para el correcto funcionamiento de animaciones de BootStrap -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
    <!-- Fin de Bloque Look & Feel -->

</body>
</html>
